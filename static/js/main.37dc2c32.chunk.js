(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(4),i=a.n(s),r=(a(11),a(2)),o=a.p+"static/media/logo.4e8e0a1d.svg",l=a(0);var p=function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("img",{src:o,alt:"logo",className:"logo"})})},u=a.p+"static/media/plus.d86bb2ed.svg",d=a.p+"static/media/edit.8667ac4a.svg",j=a(5),m=a(6),b=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)}))},_=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(j.a)(this,e),this._baseUrl=a,this._headers=n}return Object(m.a)(e,[{key:"getInitialCards",value:function(){return b("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"getUserInfo",value:function(){return b("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"createCard",value:function(e){return b("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)})}},{key:"deleteCard",value:function(e){return b("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}},{key:"addLike",value:function(e){return b("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}},{key:"deleteLike",value:function(e){return b("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}},{key:"updateAvatar",value:function(e){return b("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})})}},{key:"setUserData",value:function(e,t){return b("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:"".concat(e),about:"".concat(t)})})}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"e3c1d69b-5d6d-4954-a353-d1cd5804394f","Content-Type":"application/json"}}),h=a.p+"static/media/trash.8cb59aa9.svg";var O=function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("figure",{className:"places__place ",children:[Object(l.jsx)("button",{type:"button",className:"trash-btn",children:Object(l.jsx)("img",{src:h,alt:"trash",className:"trash-img"})}),Object(l.jsx)("img",{alt:e.card.name,className:"places__image",src:e.card.link,onClick:function(){e.onCardClick(e.card)}}),Object(l.jsxs)("figcaption",{className:"places__caption",children:[Object(l.jsx)("h2",{className:"places__title",children:e.card.name}),Object(l.jsx)("button",{type:"button",className:"places__btn"}),Object(l.jsx)("span",{className:"card__likes-count",children:e.card.likes.length})]})]})})};var f=function(e){var t=Object(n.useState)({}),a=Object(r.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)([]),o=Object(r.a)(i,2),p=o[0],j=o[1];return Object(n.useEffect)((function(){_.getUserInfo().then((function(e){s({name:e.name,description:e.about,avatar:e.avatar})})).catch((function(e){return console.log(e)})),_.getInitialCards().then((function(e){j(e)})).catch((function(e){return console.log(e)}))}),[]),Object(l.jsxs)("main",{className:"main",children:[Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsxs)("div",{className:"profile__info",children:[Object(l.jsx)("div",{className:"profile__image-container",onClick:e.onEditAvatarClick,children:Object(l.jsx)("img",{src:c.avatar,alt:"profile",className:"profile__image"})}),Object(l.jsxs)("div",{className:"profile__details",children:[Object(l.jsxs)("div",{className:"profile__title",children:[Object(l.jsx)("h1",{className:"profile__name",children:c.name}),Object(l.jsx)("button",{className:"profile__edit-btn",type:"button",onClick:e.onEditProfileClick,children:Object(l.jsx)("img",{src:d,alt:"edit-image",className:"profile__edit-image"})})]}),Object(l.jsx)("p",{className:"profile__subtitle",children:c.description})]})]}),Object(l.jsx)("button",{type:"button",className:"profile__add-button",onClick:e.onAddPlaceClick,children:Object(l.jsx)("img",{src:u,alt:"plus-image",className:"profile__plus-image"})})]}),Object(l.jsx)("section",{className:"places",children:p.map((function(t){return Object(l.jsx)(O,{onCardClick:e.onCardClick,card:t},t._id)}))})]})};var x=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__content",children:"\xa9 2021 Around The US"})})};var g=function(e){var t=function(){e.onClose()};return Object(l.jsx)("div",{className:"popup popup_".concat(e.name," ")+(e.isOpen&&"popup_open"),onClick:function(e){t()},onKeyDown:function(e){"Escape"===e.key&&t()},tabIndex:"0",children:Object(l.jsxs)("div",{className:"popup__content",onClick:function(e){return e.stopPropagation()},children:[Object(l.jsx)("button",{className:"popup__close-btn popup__close-btn_".concat(e.name),onClick:t,children:Object(l.jsx)("img",{src:u,alt:"close-btn",className:"popup__close-btn-img"})}),Object(l.jsxs)("form",{className:"popup__form popup__form_".concat(e.name),children:[Object(l.jsx)("h2",{className:"popup__title popup__title_theme_".concat(e.name),children:e.title}),e.children,Object(l.jsx)("button",{type:"submit",className:"popup__save-btn",onClick:t,children:"Save"})]})]})})};var N=function(e){var t=function(){e.onClose()};return Object(l.jsx)("div",{className:"popup popup_image "+(e.isOpen&&"popup_open"),onClick:function(e){t()},onKeyDown:function(e){"Escape"===e.key&&t()},tabIndex:"0",children:Object(l.jsxs)("figure",{className:"popup__figure",onClick:function(e){return e.stopPropagation()},children:[Object(l.jsx)("button",{className:"popup__close-btn",children:Object(l.jsx)("img",{src:u,alt:"close-image",className:"popup__close-btn-img",onClick:e.onClose})}),Object(l.jsx)("img",{alt:e.card.name,className:"popup__image",src:e.card.link}),Object(l.jsx)("figcaption",{className:"popup__caption",children:e.card.name})]})})};var k=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(r.a)(s,2),o=i[0],u=i[1],d=Object(n.useState)(!1),j=Object(r.a)(d,2),m=j[0],b=j[1],_=Object(n.useState)(!1),h=Object(r.a)(_,2),O=h[0],k=h[1],v=Object(n.useState)({link:"",name:"",id:""}),C=Object(r.a)(v,2),y=C[0],P=C[1],U=function(){u(!1),c(!1),b(!1),k(!1)};return Object(l.jsx)("div",{className:"body",children:Object(l.jsxs)("div",{className:"page",children:[Object(l.jsx)(p,{}),Object(l.jsx)(f,{onEditProfileClick:function(){c(!0)},onAddPlaceClick:function(){u(!0)},onEditAvatarClick:function(){b(!0)},onCardClick:function(e){k(!0),P({link:e.link,name:e.name,id:e._id})}}),Object(l.jsx)(x,{}),Object(l.jsxs)(g,{name:"edit-profile",title:"Edit Profile",isOpen:a,onClose:U,children:[Object(l.jsx)("input",{id:"name-input",type:"text",className:"popup__input popup__input_edit-profile_name",placeholder:"Name",required:!0,minLength:"2",maxLength:"40",name:"name"}),Object(l.jsx)("span",{id:"name-input-error",className:"popup__error"}),Object(l.jsx)("input",{id:"job-input",type:"text",className:"popup__input popup__input_edit-profile_about",placeholder:"Proffesion",required:!0,minLength:"2",maxLength:"200",name:"job"}),Object(l.jsx)("span",{id:"job-input-error",className:"popup__error"})]}),Object(l.jsxs)(g,{name:"add-new-place",title:"New Place",isOpen:o,onClose:U,children:[Object(l.jsx)("input",{id:"card-name-input",type:"text",className:"popup__input popup__input_new-place_title",placeholder:"Title",required:!0,minLength:"1",maxLength:"30",name:"name"}),Object(l.jsx)("span",{id:"card-name-input-error",className:"popup__error"}),Object(l.jsx)("input",{id:"card-link-input",type:"url",className:"popup__input popup__input_new-place_url",placeholder:"Image url",required:!0,name:"link"}),Object(l.jsx)("span",{id:"card-link-input-error",className:"popup__error"})]}),Object(l.jsxs)(g,{name:"type_edit-avatar",title:"Change profile picture",isOpen:m,onClose:U,children:[Object(l.jsx)("input",{id:"avatar-link-input",type:"url",className:"popup__input",placeholder:"Image url",required:!0,name:"link"}),Object(l.jsx)("span",{id:"avatar-link-input-error",className:"popup__error"})]}),Object(l.jsx)(g,{name:"type_delete-card",title:"Are you sure",onClose:U}),Object(l.jsx)(N,{card:y,onClose:U,isOpen:O})]})})},v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root")),v()}},[[13,1,2]]]);
//# sourceMappingURL=main.37dc2c32.chunk.js.map